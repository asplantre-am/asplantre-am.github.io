<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Portifólio de Projetos</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script
        src="https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.js?_ga=2.206170067.1323947214.1561565036-1176735934.1561565036">
    </script>
    <!--<script src="lib/gantt/codebase/locale/locale_pt.js" charset="utf-8"></script> -->
    <script
        src="https://cdn.dhtmlx.com/gantt/edge/ext/dhtmlxgantt_tooltip.js?_ga=2.140143475.1323947214.1561565036-1176735934.1561565036">
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.css">
    <link rel="stylesheet"
        href="https://cdn.dhtmlx.com/gantt/edge/dhtmlxgantt.css?_ga=2.154265464.1323947214.1561565036-1176735934.1561565036">
    <link rel="stylesheet"
        href="https://cdn.dhtmlx.com/gantt/edge/skins/dhtmlxgantt_broadway.css?_ga=2.154265464.1323947214.1561565036-1176735934.1561565036">

    <style>
        html,
        body {
            height: 100%;
            padding: 0px;
            margin: 0px;
            overflow: hidden;
        }
    </style>
    <script>
        /*
@license

dhtmlxGantt v.5.2.0 Standard
This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.

(c) Dinamenta, UAB.

*/
        ! function (e) {
            var t = {};

            function o(n) {
                if (t[n]) return t[n].exports;
                var a = t[n] = {
                    i: n,
                    l: !1,
                    exports: {}
                };
                return e[n].call(a.exports, a, a.exports, o), a.l = !0, a.exports
            }
            o.m = e, o.c = t, o.d = function (e, t, n) {
                o.o(e, t) || Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: n
                })
            }, o.r = function (e) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }), Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }, o.t = function (e, t) {
                if (1 & t && (e = o(e)), 8 & t) return e;
                if (4 & t && "object" == typeof e && e && e.__esModule) return e;
                var n = Object.create(null);
                if (o.r(n), Object.defineProperty(n, "default", {
                        enumerable: !0,
                        value: e
                    }), 2 & t && "string" != typeof e)
                    for (var a in e) o.d(n, a, function (t) {
                        return e[t]
                    }.bind(null, a));
                return n
            }, o.n = function (e) {
                var t = e && e.__esModule ? function () {
                    return e.default
                } : function () {
                    return e
                };
                return o.d(t, "a", t), t
            }, o.o = function (e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }, o.p = "/codebase/", o(o.s = 156)
        }({
            156: function (e, t) {
                gantt.locale = {
                    date: {
                        month_full: ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho",
                            "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"
                        ],
                        month_short: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out",
                            "Nov", "Dez"
                        ],
                        day_full: ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"],
                        day_short: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sab"]
                    },
                    labels: {
                        new_task: "Nova tarefa",
                        dhx_cal_today_button: "Hoje",
                        day_tab: "Dia",
                        week_tab: "Semana",
                        month_tab: "Mês",
                        new_event: "Novo evento",
                        icon_save: "Salvar",
                        icon_cancel: "Cancelar",
                        icon_details: "Detalhes",
                        icon_edit: "Editar",
                        icon_delete: "Deletar",
                        confirm_closing: "Suas alterações serão perdidas. Você tem certeza?",
                        confirm_deleting: "Tem certeza que deseja excluir?",
                        section_description: "Descrição",
                        section_time: "Período de tempo",
                        section_type: "Type",
                        column_wbs: "EAP",
                        column_text: "Nome tarefa",
                        column_start_date: "Data início",
                        column_duration: "Duração",
                        column_add: "",
                        link: "Link",
                        confirm_link_deleting: "será apagado",
                        link_start: " (início)",
                        link_end: " (fim)",
                        type_task: "Task",
                        type_project: "Project",
                        type_milestone: "Milestone",
                        minutes: "Minutos",
                        hours: "Horas",
                        days: "Dias",
                        weeks: "Semanas",
                        months: "Meses",
                        years: "Anos",
                        message_ok: "OK",
                        message_cancel: "Cancelar"
                    }
                }
            }
        });
        //# sourceMappingURL=locale_pt.js.map    
    </script>
</head>

<body>
    <nav class="navbar is-link">
        <h1 class="is-size-4" style="padding: 8px 0 0 30px; color:#fff">Portifólio de Projetos</h1>
    </nav>
    <section class="section" style="height:100%;padding:0;">
        <div id="sobre" class="container">
        </div>
        <section id="loading" class="hero">
            <div class="hero-body">
                <div class="container"
                    style="display: flex; justify-content: center; align-items: center; height: 300px">
                    <a class="button is-loading is-link">Loading</a>
                </div>
            </div>
        </section>


        <div id="gantt_aqui" style="width:100%; height:95%;"></div>
    </section>


    <script type="text/javascript">
        var url = "https://script.google.com/macros/s/AKfycbxdtI_MSG0RlVCa1rJ9eNIMqcbS7Lne3y5WB1Q2kk0rjRx73dfW/exec";

        $.ajax({
                url: url,
                type: "GET",
                dataType: "json",
            })

            // Código a ser executado se a requisição for bem sucedida
            .done(function (data) {

                // Esconde o elemento que mostra dados carregando...
                $('#loading').css('display', 'none');

                // Configura as colunas do grid
                gantt.config.columns = [{
                        name: "text",
                        label: "Projeto/Atividade",
                        tree: true,
                        width: 300,
                        min_width: 150,
                        max_width: 350
                    },
                    /*
                                {
                                    name: "holder",
                                    label: "Responsável",
                                    align: "center"
                                },*/
                    {
                        name: "start_date",
                        label: "Início",
                        align: "center",
                        width: 90
                    },
                    {
                        name: "end_date",
                        label: "Fim",
                        align: "center",
                        width: 90
                    }
                ];

                // Configura formato de data do grid
                gantt.config.date_grid = "%d/%m/%Y";

                // Configura o formato de data para fazer o parse
                gantt.config.xml_date = "%Y-%m-%d";

                // Configura o gantt para somente leitura
                gantt.config.readonly = true;

                // Configura a escala de tempo
                gantt.config.scale_unit = "month";
                gantt.config.subscales = [{
                    unit: "day",
                    step: 7,
                    date: "%d"
                }];
                gantt.config.scale_height = 54;

                // Implementa a dica (tooltip)
                gantt.templates.tooltip_text = function (start, end, task) {
                    return "<b>Projeto/Atividade:</b> " + task.text + "<br/><b>Responsável:</b> " + task
                        .holder + "<br/><b>Progresso:</b> " + task.progress * 100 + "%";
                };

                // Instancia o gantt
                gantt.init("gantt_aqui");

                // Carrega os dados
                gantt.parse(data);

                console.log(data);
            })

            // Código a ser executado em caso de falha da requisição
            .fail(function (xhr, status, errorThrown) {
                alert("Desculpe! Deu capim na palheta. :(");
                console.log("Error: " + errorThrown);
                console.log("Status: " + status);
                console.dir(xhr);
            })

            // Código a ser executado independentemente do sucesso ou falha da requisição
            .always(function (xhr, status) {
                console.log("Requisição completa!");
            });
    </script>
</body>

</html>